{"ast":null,"code":"var _jsxFileName = \"/Users/tiffanybouchard/Desktop/workspace.nosync/ojos/web/components/ModalSubscribe/ModalSubscribe.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Modal, Button, Form, FormControl } from \"react-bootstrap\";\nimport styles from './ModalSubscribe.module.css';\n\nfunction ModalSubscribe(props) {\n  const input = React.useRef(null);\n  const [message, setMessage] = React.useState(\"\");\n\n  const subscribe = async e => {\n    e.preventDefault();\n    const res = await fetch(\"/api/subscribe\", {\n      body: JSON.stringify({\n        email: input.current.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\"\n    });\n    const {\n      error\n    } = await res.json();\n\n    if (error) {\n      setMessage(error);\n      return;\n    }\n\n    localStorage.setItem(\"subscribed\", true);\n    input.current.value = \"\";\n    setMessage(\"Success! ðŸŽ‰ You are now subscribed to the newsletter.\");\n  };\n\n  const closeButtonClicked = () => {\n    sessionStorage.setItem(\"closeButtonClicked\", true);\n  };\n\n  return __jsx(Modal, _extends({}, props, {\n    size: \"xl\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    className: styles.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }), __jsx(Modal.Header, {\n    closeButton: true,\n    onClick: closeButtonClicked,\n    style: {\n      borderBottom: \"none\",\n      backgroundColor: \"#c4dbc8\",\n      border: \"none\",\n      borderRadius: \"0\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), __jsx(Modal.Body, {\n    style: {\n      backgroundColor: \"#c4dbc8\",\n      height: \"180px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, message ? message : `Join the list for exclusive details on products and releases`), __jsx(Form, {\n    className: styles.form,\n    onSubmit: subscribe,\n    inline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, __jsx(FormControl, {\n    type: \"email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    ref: input,\n    style: {\n      borderBottom: \"none\",\n      backgroundColor: \"#c4dbc8\",\n      border: \"1px solid black\",\n      borderRadius: \"0px\",\n      width: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }), __jsx(Button, {\n    style: {\n      borderBottom: \"none\",\n      backgroundColor: \"#c4dbc8\",\n      border: \"1px solid black\",\n      borderRadius: \"0px\",\n      color: \"black\",\n      margin: \"5px\"\n    },\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Subscribe\"))));\n}\n\nexport default ModalSubscribe;","map":{"version":3,"sources":["/Users/tiffanybouchard/Desktop/workspace.nosync/ojos/web/components/ModalSubscribe/ModalSubscribe.js"],"names":["Modal","Button","Form","FormControl","styles","ModalSubscribe","props","input","React","useRef","message","setMessage","useState","subscribe","e","preventDefault","res","fetch","body","JSON","stringify","email","current","value","headers","method","error","json","localStorage","setItem","closeButtonClicked","sessionStorage","modal","borderBottom","backgroundColor","border","borderRadius","height","form","width","color","margin"],"mappings":"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","sourcesContent":["import { Modal, Button, Form, FormControl } from \"react-bootstrap\";\n\nimport styles from './ModalSubscribe.module.css';\n\nfunction ModalSubscribe(props) {\n  const input = React.useRef(null);\n\n  const [message, setMessage] = React.useState(\"\");\n\n  const subscribe = async (e) => {\n    e.preventDefault();\n\n    const res = await fetch(\"/api/subscribe\", {\n      body: JSON.stringify({\n        email: input.current.value,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"POST\",\n    });\n    const { error } = await res.json();\n\n    if (error) {\n      setMessage(error);\n      return;\n    }\n    localStorage.setItem(\"subscribed\", true);\n    input.current.value = \"\";\n    setMessage(\"Success! ðŸŽ‰ You are now subscribed to the newsletter.\");\n  };\n\n  const closeButtonClicked = () => {\n    sessionStorage.setItem(\"closeButtonClicked\", true);\n  };\n\n  return (\n    <Modal\n      {...props}\n      size=\"xl\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n      className={styles.modal}\n    >\n      <Modal.Header\n        closeButton\n        onClick={closeButtonClicked}\n        style={{\n          borderBottom: \"none\",\n          backgroundColor: \"#c4dbc8\",\n          border: \"none\",\n          borderRadius: \"0\",\n        }}\n      />\n      <Modal.Body\n        style={{\n          backgroundColor: \"#c4dbc8\",\n          height: \"180px\",\n        }}\n      >\n        <h4>\n          {message\n            ? message\n            : `Join the list for exclusive details on products and releases`}\n        </h4>\n\n        <Form className={styles.form} onSubmit={subscribe} inline>\n          <FormControl\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            ref={input}\n            style={{\n              borderBottom: \"none\",\n              backgroundColor: \"#c4dbc8\",\n              border: \"1px solid black\",\n              borderRadius: \"0px\",\n              width: \"50%\",\n            }}\n          />\n          <Button\n            style={{\n              borderBottom: \"none\",\n              backgroundColor: \"#c4dbc8\",\n              border: \"1px solid black\",\n              borderRadius: \"0px\",\n              color: \"black\",\n              margin: \"5px\",\n            }}\n            type=\"submit\"\n          >\n            Subscribe\n          </Button>\n        </Form>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default ModalSubscribe;\n"]},"metadata":{},"sourceType":"module"}