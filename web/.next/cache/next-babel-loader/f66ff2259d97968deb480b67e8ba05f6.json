{"ast":null,"code":"var _jsxFileName = \"/Users/tiffanybouchard/Desktop/workspace.nosync/ojos/web/components/ModalSubscribe/ModalSubscribe.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { Modal, Button, Form, FormControl } from \"react-bootstrap\";\nimport styles from './ModalSubscribe.module.css';\n\nfunction ModalSubscribe(props) {\n  const input = React.useRef(null);\n  const [message, setMessage] = React.useState(\"\");\n\n  const subscribe = async e => {\n    e.preventDefault();\n    const res = await fetch(\"/api/subscribe\", {\n      body: JSON.stringify({\n        email: input.current.value\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      method: \"POST\"\n    });\n    const {\n      error\n    } = await res.json();\n\n    if (error) {\n      setMessage(error);\n      return;\n    }\n\n    localStorage.setItem(\"subscribed\", true);\n    input.current.value = \"\";\n    setMessage(\"Success! ðŸŽ‰ You are now subscribed to the newsletter.\");\n  };\n\n  const closeButtonClicked = () => {\n    sessionStorage.setItem(\"closeButtonClicked\", true);\n  };\n\n  return __jsx(Modal, _extends({}, props, {\n    size: \"lg\",\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    className: styles.wrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }), __jsx(Modal.Header, {\n    closeButton: true,\n    onClick: closeButtonClicked,\n    className: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), __jsx(Modal.Body, {\n    className: styles.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, message ? message : `Join the list for exclusive details on products and releases`), __jsx(\"form\", {\n    className: styles.form,\n    onSubmit: subscribe,\n    inline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    name: \"email\",\n    ref: input,\n    className: styles.input,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), __jsx(\"button\", {\n    className: styles.button,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Subscribe\"))));\n}\n\nexport default ModalSubscribe;","map":{"version":3,"sources":["/Users/tiffanybouchard/Desktop/workspace.nosync/ojos/web/components/ModalSubscribe/ModalSubscribe.js"],"names":["Modal","Button","Form","FormControl","styles","ModalSubscribe","props","input","React","useRef","message","setMessage","useState","subscribe","e","preventDefault","res","fetch","body","JSON","stringify","email","current","value","headers","method","error","json","localStorage","setItem","closeButtonClicked","sessionStorage","wrapper","header","form","button"],"mappings":";;;;;;AAAA,SAASA,KAAT,EAAgBC,MAAhB,EAAwBC,IAAxB,EAA8BC,WAA9B,QAAiD,iBAAjD;AAEA,OAAOC,MAAP,MAAmB,6BAAnB;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAC7B,QAAMC,KAAK,GAAGC,KAAK,CAACC,MAAN,CAAa,IAAb,CAAd;AAEA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBH,KAAK,CAACI,QAAN,CAAe,EAAf,CAA9B;;AAEA,QAAMC,SAAS,GAAG,MAAOC,CAAP,IAAa;AAC7BA,IAAAA,CAAC,CAACC,cAAF;AAEA,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,gBAAD,EAAmB;AACxCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAEd,KAAK,CAACe,OAAN,CAAcC;AADF,OAAf,CADkC;AAIxCC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAJ+B;AAOxCC,MAAAA,MAAM,EAAE;AAPgC,KAAnB,CAAvB;AASA,UAAM;AAAEC,MAAAA;AAAF,QAAY,MAAMV,GAAG,CAACW,IAAJ,EAAxB;;AAEA,QAAID,KAAJ,EAAW;AACTf,MAAAA,UAAU,CAACe,KAAD,CAAV;AACA;AACD;;AACDE,IAAAA,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmC,IAAnC;AACAtB,IAAAA,KAAK,CAACe,OAAN,CAAcC,KAAd,GAAsB,EAAtB;AACAZ,IAAAA,UAAU,CAAC,uDAAD,CAAV;AACD,GArBD;;AAuBA,QAAMmB,kBAAkB,GAAG,MAAM;AAC/BC,IAAAA,cAAc,CAACF,OAAf,CAAuB,oBAAvB,EAA6C,IAA7C;AACD,GAFD;;AAIA,SACE,MAAC,KAAD,eACMvB,KADN;AAEE,IAAA,IAAI,EAAC,IAFP;AAGE,uBAAgB,+BAHlB;AAIE,IAAA,QAAQ,MAJV;AAKE,IAAA,SAAS,EAAEF,MAAM,CAAC4B,OALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOE,MAAC,KAAD,CAAO,MAAP;AACE,IAAA,WAAW,MADb;AAEE,IAAA,OAAO,EAAEF,kBAFX;AAGE,IAAA,SAAS,EAAE1B,MAAM,CAAC6B,MAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAYE,MAAC,KAAD,CAAO,IAAP;AACE,IAAA,SAAS,EAAE7B,MAAM,CAACc,IADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGR,OAAO,GACJA,OADI,GAEH,8DAHP,CAHF,EASE;AAAM,IAAA,SAAS,EAAEN,MAAM,CAAC8B,IAAxB;AAA8B,IAAA,QAAQ,EAAErB,SAAxC;AAAmD,IAAA,MAAM,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,GAAG,EAAEN,KAJP;AAKE,IAAA,SAAS,EAAEH,MAAM,CAACG,KALpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE;AACE,IAAA,SAAS,EAAEH,MAAM,CAAC+B,MADpB;AAEE,IAAA,IAAI,EAAC,QAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,CATF,CAZF,CADF;AAwCD;;AAED,eAAe9B,cAAf","sourcesContent":["import { Modal, Button, Form, FormControl } from \"react-bootstrap\";\n\nimport styles from './ModalSubscribe.module.css';\n\nfunction ModalSubscribe(props) {\n  const input = React.useRef(null);\n\n  const [message, setMessage] = React.useState(\"\");\n\n  const subscribe = async (e) => {\n    e.preventDefault();\n\n    const res = await fetch(\"/api/subscribe\", {\n      body: JSON.stringify({\n        email: input.current.value,\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      method: \"POST\",\n    });\n    const { error } = await res.json();\n\n    if (error) {\n      setMessage(error);\n      return;\n    }\n    localStorage.setItem(\"subscribed\", true);\n    input.current.value = \"\";\n    setMessage(\"Success! ðŸŽ‰ You are now subscribed to the newsletter.\");\n  };\n\n  const closeButtonClicked = () => {\n    sessionStorage.setItem(\"closeButtonClicked\", true);\n  };\n\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n      className={styles.wrapper}\n    >\n      <Modal.Header\n        closeButton\n        onClick={closeButtonClicked}\n        className={styles.header}\n      />\n      <Modal.Body\n        className={styles.body}\n      >\n        <h4>\n          {message\n            ? message\n            : `Join the list for exclusive details on products and releases`}\n        </h4>\n\n        <form className={styles.form} onSubmit={subscribe} inline>\n          <input\n            type=\"email\"\n            placeholder=\"Email\"\n            name=\"email\"\n            ref={input}\n            className={styles.input}\n          />\n          <button\n            className={styles.button}\n            type=\"submit\"\n          >\n            Subscribe\n          </button>\n        </form>\n      </Modal.Body>\n    </Modal>\n  );\n}\n\nexport default ModalSubscribe;\n"]},"metadata":{},"sourceType":"module"}